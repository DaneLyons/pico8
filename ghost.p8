pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
	music(0)

	player={
		x=1,
		y=1,
		s=1
	}
	
	pacman={
		x=40,
		y=40,
		d=flr(rnd(5)),
		s=3
	}
	
	captured=false
	frame=0
end

function _draw()
	cls()
	frame += 1
	if frame > 5 then
		frame = 0
		if pacman.s == 3 then
			player.s = 2
			pacman.s = 4
		else
			player.s = 1
			pacman.s = 3
		end
	end
	
	if btn(0) then
	 player.x -= 1
	end
	
	if btn(1) then
	 player.x += 1
	end
	
	if btn(2) then
	 player.y -= 1
	end
	
	if btn(3) then
	 player.y += 1
	end
	
 spr(player.s, player.x, player.y)
 spr(pacman.s, pacman.x, pacman.y)
 
 print(captured, 64,1)
 
 move_pacman()
 collisions()
end

function move_pacman()
	if flr(rnd(60))%60==0 then
		pacman.d=flr(rnd(4))
	end


	if pacman.d==0 and pacman.y>0 then
		pacman.y-=1
	end
	
	if pacman.d==1 and pacman.x<120 then
		pacman.x+=1
	end
	
	if pacman.d==2 and pacman.y<120 then
		pacman.y+=1
	end
	
	if pacman.d==3 and pacman.x>0 then
		pacman.x-=1
	end
end

function collisions()
	if player.x >= pacman.x-8 and player.x <= pacman.x+8 then
		if player.y >= pacman.y-8 and player.y <= pacman.y+8 then
			captured = true
		end		
	end
end

__gfx__
000000000055550000555500000aa000000aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000005000050050000500aaaaaa00aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070050000005500000050aaaaa000aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770005005050550080805aaaa0000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770005000000550000005aaaa0000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070050000005500000050aaaaa000aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000050500505505005050aaaaaa00aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000505505005055050000aa000000aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001b05010050080500f0500e050100500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000e0500e05000000000000e0500e05000000000000e0500e05000000000000e0500e05000000000000e0500e05000000000000e0500e05000000000000e0500e05000000000000e0500e0500000000000
__music__
02 01424344

